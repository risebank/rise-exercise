services:
  rise-exercise:
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      # Mount source code for live reloading (only source files, not package files)
      - ./src:/app/src:ro
      - ./tsconfig.json:/app/tsconfig.json:ro
      - ./package.json:/app/package.json:ro
      - ./package-lock.json:/app/package-lock.json:ro
    environment:
      - NODE_ENV=development
    # Override the CMD to use tsx watch for development
    command: ["npx", "tsx", "watch", "src/index.ts"]
    # Keep container running for development
    stdin_open: true
    tty: true
